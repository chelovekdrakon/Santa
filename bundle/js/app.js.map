{"version":3,"sources":["webpack:///webpack/bootstrap 8c7897d867071954628e","webpack:///./src/Entity.js","webpack:///./src/math.js","webpack:///./src/Traits/Killable.js","webpack:///./src/spritesheet.js","webpack:///./src/loaders.js","webpack:///./src/Traits/Jump.js","webpack:///./src/Traits/Go.js","webpack:///./src/Traits/Physics.js","webpack:///./src/app.js","webpack:///./src/game-field.js","webpack:///./src/Sprite.js","webpack:///./src/TileCollider.js","webpack:///./src/TileResolver.js","webpack:///./src/BoundingBox.js","webpack:///./src/EntityCollider.js","webpack:///./src/animations.js","webpack:///./src/Camera.js","webpack:///./src/Sounds.js","webpack:///./src/Font.js","webpack:///./src/timer.js","webpack:///./src/layers/collision.js","webpack:///./src/layers/camera.js","webpack:///./src/createLevelCompositor.js","webpack:///./src/layers/background.js","webpack:///./src/entities.js","webpack:///./src/Entities/Enemies.js","webpack:///./src/Traits/PendulumWalk.js","webpack:///./src/Entities/Artefacts.js","webpack:///./src/createPlayerEnvironment.js","webpack:///./src/Entities/Cosmo.js","webpack:///./src/Traits/Stomper.js","webpack:///./src/Traits/ReachEdge.js","webpack:///./src/Traits/Falling.js","webpack:///./src/Traits/StateCosmo.js","webpack:///./src/Traits/PlayerController.js","webpack:///./src/input.js","webpack:///./src/keyboardState.js","webpack:///./src/debug.js","webpack:///./src/layers/dashboard.js","webpack:///./style/css/style.css","webpack:///./style/scss/style.scss"],"names":["Sides","TOP","Symbol","BOTTOM","LEFT","RIGHT","Trait","constructor","name","NAME","obstruct","collides","us","them","update","Entity","pos","vel","size","offset","startPosition","lifetime","bounds","traits","player","sounds","addTrait","trait","push","side","forEach","candidate","deltaTime","sprites","Matrix","grid","get","x","y","col","undefined","set","value","Vect","Killable","dead","deadTime","removeAfter","kill","revive","entity","pictures","deadPic","entities","delete","Spritesheet","image","data","tiles","Map","camera","TILE_SIZE","define","buffers","map","flip","buffer","document","createElement","context","getContext","png","frame","width","height","scale","translate","includes","deltaX","deltaY","drawImage","draw","type","drawTiles","x1","x2","y1","y2","getEntitiesByName","loadImage","url","Promise","resolve","Image","addEventListener","src","loadJSON","fetch","then","response","json","Jump","duration","velocity","engageTime","ready","requestTime","gracePeriod","speedBoost","start","cancel","Math","abs","Go","dir","speed","acceleration","deceleration","dragFactor","distance","heading","maxSpeed","absX","decel","min","drag","Physics","countPatrol","distanceAll","pendulumWalk","deltaDistance","amplitudePatrol","positionBySinusoid","sin","PI","killable","tileCollider","checkX","checkY","gravity","canvas","getElementById","setAttribute","drawField","all","tileImage","tileData","fontData","fontImage","sprite","drawCollisions","createCollisionLayer","drawCameraView","createCameraLayer","drawDashboard","cosmo","createPlayerEnvironment","drawLevel","createLevelCompositor","timer","Sprite","Set","tilesMatrix","entityCollider","level","drawEntity","drawCosmo","frames","runAnim","createAnimation","routeFrame","jump","go","max","picture","check","TileCollider","tileLayout","right","tileSize","matrix","length","left","matches","searchByRange","top","bottom","match","reachEdge","stepToEdge","nextTile","TileResolver","toIndex","floor","toIndexRange","pos1","pos2","pMax","ceil","range","getByIndex","indexX","indexY","tile","searchByPosition","posX","posY","BoundingBox","overlaps","box","EntityCollider","frameLen","resolveFrame","frameIndex","frameName","Camera","Sounds","loadedSounds","loas","playSound","has","play","sound","Audio","load","Font","print","text","sizeX","sizeY","letter","index","Timer","lastTime","accumulatedTime","updateProxy","time","enqueue","requestAnimationFrame","drawEntityBox","drawBoundingBoxes","strokeStyle","beginPath","rect","stroke","createTileCandidateLayer","resolvedTiles","tileResolver","getByIndexOriginal","getByIndexFake","call","drawTileCandidates","cameraToDraw","drawCameraRect","fromCamera","layout","createEntities","drawBackgroundLayer","drawBackground","bufferContext","backgrounds","xLen","createEnemy","createEnemiesFactory","createArtefact","createArtefactsFactory","species","velX","velY","positions","reverse","offsetX","offsetY","artefacts","artef","arrPositions","Behavior","enemy","stomper","bounce","sequence","Array","from","add","PendulumWalk","randomForPatrol","random","stateCosmo","coins","keys","console","log","artefact","createCosmo","createCosmoFactory","createPlayerEnv","createDashboardLayer","input","setupKeyboard","setupMouseControl","listenTo","window","playerEntity","playerControl","checkPoint","SLOW_DRAG","FAST_DRAG","setTurboState","turtleOn","setTurtleState","turboOn","turboAndSlow","slowAndTurbo","Stomper","queueBounce","bounceSpeed","ReachEdge","Falling","currentX","alive","playerController","death","updateTimer","StateCosmo","lives","locks","opebedLocks","TIME_LIMIT","PlayerController","stopTime","addMapping","keyState","PRESSED","RELEASED","KeyboardState","keyStates","keyMap","code","callback","handleEvent","event","preventDefault","eventName","lastEvent","buttons","round","font","fillStyle","fillText","strokeText"],"mappings":"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","file":"bundle/js/app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8c7897d867071954628e","import {Vect} from './math';\r\nimport BoundingBox from './BoundingBox.js';\r\n\r\n\r\nexport const Sides = {\r\n        TOP: Symbol('top'),\r\n        BOTTOM: Symbol('bottom'),\r\n        LEFT: Symbol('left'),\r\n        RIGHT: Symbol('right'),\r\n    };\r\n\r\nexport class Trait {\r\n    constructor(name) {\r\n        this.NAME = name;\r\n    }\r\n\r\n    obstruct() {\r\n\r\n    }\r\n\r\n    collides(us, them) {\r\n\r\n    }\r\n\r\n    update() {\r\n\r\n    }\r\n}\r\n\r\nexport default class Entity {\r\n    constructor(name) {\r\n        this.name = name;\r\n        this.pos = new Vect(0,0);\r\n        this.vel = new Vect(0,0);\r\n        this.size = new Vect(0,0);\r\n        this.offset = new Vect(0,0);\r\n        this.startPosition = new Vect(0,0);\r\n\r\n        this.lifetime = 0;\r\n        this.bounds = new BoundingBox(this.pos, this.size, this.offset);\r\n\r\n        this.traits = [];\r\n\r\n        this.player = false;\r\n\r\n        this.sounds;\r\n    }\r\n\r\n    addTrait(trait) {\r\n        this.traits.push(trait);\r\n        this[trait.NAME] = trait;\r\n    }\r\n\r\n    obstruct(side) {\r\n        this.traits.forEach( trait => {\r\n            trait.obstruct(this, side);\r\n        });\r\n    }\r\n\r\n    collides(candidate) {\r\n        this.traits.forEach( trait => {\r\n            trait.collides(this, candidate);\r\n        });\r\n    }\r\n\r\n    update(deltaTime, sprites) {\r\n        this.traits.forEach( trait => {\r\n            trait.update(this, deltaTime, sprites);\r\n        })\r\n\r\n        this.lifetime += deltaTime;\r\n\r\n        this.sounds = sprites.sounds;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Entity.js","export class Matrix {\r\n    constructor() {\r\n        this.grid = [];\r\n    }\r\n\r\n    get(x,y) {\r\n        const col = this.grid[x];\r\n        if (col) {\r\n            return col[y];\r\n        }\r\n        return undefined;\r\n    }\r\n\r\n    set(x, y, value) {\r\n        if (!this.grid[x]) {\r\n            this.grid[x] = [];\r\n        }\r\n\r\n        this.grid[x][y] = value;\r\n    }\r\n}\r\n\r\nexport class Vect {\r\n    constructor(x, y) {\r\n        this.set(x,y);\r\n    }\r\n    set(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/math.js","import {Sides, Trait} from '../Entity';\r\n\r\nexport default class Killable extends Trait {\r\n    constructor() {\r\n        super('killable');\r\n        this.dead = false;\r\n        this.deadTime = 0;\r\n        this.removeAfter = 2;\r\n    }\r\n\r\n    kill(){\r\n        this.dead = true;\r\n    }\r\n\r\n    revive () {\r\n        this.dead = false;\r\n        this.deadTime = 0;\r\n    }\r\n\r\n    update(entity, deltaTime, sprites) {\r\n        if (this.dead) {\r\n            if (!entity.player) {\r\n                entity.pictures = entity.deadPic;\r\n            } else {\r\n                sprites.entities.delete(entity);\r\n            }\r\n\r\n            if (entity.name === 'purple') {\r\n                entity.offset.y = -180;\r\n            } else if (entity.name === 'green') {\r\n                entity.offset.y = -62;\r\n            }\r\n\r\n            this.deadTime += deltaTime;\r\n\r\n            if (this.deadTime > this.removeAfter) {\r\n                sprites.entities.delete(entity);\r\n            }\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Traits/Killable.js","import Camera from './Camera';\r\n\r\nexport default class Spritesheet {\r\n    constructor(image, data) {\r\n        this.image = image;\r\n        this.data = data;\r\n        this.tiles = new Map();\r\n\r\n        this.camera = new Camera();\r\n        this.TILE_SIZE = 37;\r\n    }\r\n\r\n    define(name) {\r\n\r\n        const buffers = [false, true].map(flip => {\r\n            const buffer = document.createElement('canvas');\r\n            const context = buffer.getContext('2d');\r\n            const png = this.data[`${name}`].frame;\r\n            buffer.width = png['w'];\r\n            buffer.height = png['h'];\r\n\r\n            if (flip) {\r\n                context.scale(-1, 1);\r\n                context.translate(-buffer.width, 0);\r\n            }\r\n\r\n            if (png['w'] < this.TILE_SIZE && png['h'] < this.TILE_SIZE && !name.includes('enemy')) {\r\n                buffer.width = this.TILE_SIZE;\r\n                buffer.height = this.TILE_SIZE;\r\n                let deltaX = (this.TILE_SIZE - png['w'])/2;\r\n                let deltaY = (this.TILE_SIZE - png['h'])/2;\r\n                context.drawImage(this.image, png['x'], png['y'], png['w'], png['h'],\r\n                                               deltaX,  deltaY,   png['w'], png['h']);\r\n            } else {\r\n                context.drawImage(this.image, png['x'], png['y'], png['w'], png['h'],\r\n                                             0,         0,        png['w'], png['h']);\r\n            }\r\n            return buffer;\r\n        });\r\n        this.tiles.set(name, buffers);\r\n    }\r\n/* this method can be deleted? i don't know where we can use it  BUT may be it for fonts??? */\r\n    draw(name, context, x, y, type, flip) {\r\n        \r\n        const buffer = this.tiles.get(`${name}.png`)[flip ? 1 : 0];\r\n\r\n        x = x * buffer.width;\r\n        y = y * buffer.width;\r\n\r\n        context.drawImage(buffer, x - this.camera.pos.x, y - this.camera.pos.y);\r\n    }\r\n\r\n    drawTiles(name, context, type, x1, x2, y1, y2) {\r\n        for (let x = x1; x < x2; ++x) {\r\n            for (let y = y1; y < y2; ++y) {\r\n                this.draw(name, context, x, y, type);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    getEntitiesByName(name) {\r\n        let entities = [];\r\n        this.entities.forEach(value => {\r\n            if (value.name == name) {\r\n                entities.push(value);\r\n            }\r\n        });\r\n        return entities;\r\n    }\r\n\r\n    update(deltaTime, context) {\r\n\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/spritesheet.js","export function loadImage(url) {\r\n    return new Promise( resolve => {\r\n        const image = new Image();\r\n        image.addEventListener('load', () => {\r\n            resolve(image);\r\n        });\r\n        image.src = url;\r\n    })\r\n}\r\n\r\nexport function loadJSON(name) {\r\n    return fetch(`./src/database/${name}.json`)\r\n    .then(response => response.json());\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/loaders.js","\r\nimport {Trait, Sides} from '../Entity';\r\n\r\n\r\nexport default class Jump extends Trait {\r\n    constructor() {\r\n        super('jump');\r\n\r\n        this.duration = 0.5;\r\n        this.velocity = 200;\r\n        this.engageTime = 0;\r\n\r\n        this.ready = 1;\r\n        this.requestTime = 0;\r\n        this.gracePeriod = 0.5;\r\n\r\n        this.speedBoost = 0.3;\r\n    }\r\n\r\n    start() {\r\n        this.requestTime = this.gracePeriod;\r\n    }\r\n\r\n    cancel() {\r\n        this.engageTime = 0;\r\n        this.requestTime = 0;\r\n    }\r\n\r\n    obstruct(entity, side) {\r\n\r\n        if (side === Sides.BOTTOM) {\r\n            this.ready = 1;\r\n        } else if (side === Sides.TOP) {\r\n\r\n            this.cancel();\r\n        }\r\n    }\r\n\r\n    update(entity, deltaTime) {\r\n        if (this.requestTime > 0) {\r\n            if (this.ready > 0) {\r\n                this.engageTime = this.duration;\r\n                this.requestTime = 0;\r\n            }\r\n            this.requestTime -= deltaTime;\r\n        }\r\n\r\n\r\n        if (this.engageTime > 0) {\r\n            entity.vel.y = -(this.velocity + Math.abs(entity.vel.x) * this.speedBoost);\r\n            this.engageTime -= deltaTime;\r\n        }\r\n\r\n        this.ready--;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Traits/Jump.js","import {Trait} from '../Entity';\r\n\r\nexport default class Go extends Trait {\r\n    constructor() {\r\n        super('go');\r\n        this.dir = 0;\r\n        this.speed = 12000;\r\n\r\n        this.acceleration = 500;\r\n        this.deceleration = 350;\r\n        this.dragFactor = 1/5000;\r\n\r\n        this.distance = 0;\r\n        this.heading = 1;\r\n    }\r\n\r\n    update(entity, deltaTime) {\r\n        const maxSpeed = this.speed * deltaTime * this.dir;\r\n        const absX = Math.abs(entity.vel.x);\r\n\r\n        if (this.dir !== 0) {\r\n                entity.vel.x += this.acceleration * deltaTime * this.dir;\r\n                this.heading = this.dir;\r\n\r\n            } else if (entity.vel.x !== 0) {\r\n                let decel = Math.min(absX, this.deceleration * deltaTime);\r\n                entity.vel.x += entity.vel.x > 0 ? -decel : decel;\r\n            } else {\r\n                this.distance = 0;\r\n            }\r\n\r\n        const drag = this.dragFactor * entity.vel.x * absX;\r\n        entity.vel.x -= drag;\r\n\r\n        this.distance += absX * deltaTime;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Traits/Go.js","import {Sides, Trait} from '../Entity.js';\r\n\r\nexport default class Physics extends Trait {\r\n    constructor() {\r\n        super('physics');\r\n\r\n        this.countPatrol = 0;\r\n    }\r\n\r\n    update(entity, deltaTime, sprites) {\r\n\r\n        if (entity.name.includes('black')) {\r\n\r\n            let distanceAll = Math.abs(entity.pendulumWalk.speed) * entity.lifetime;\r\n            let deltaDistance = distanceAll - this.countPatrol * entity.pendulumWalk.amplitudePatrol;\r\n            let positionBySinusoid = 1 - Math.sin(Math.PI * entity.lifetime)/15;\r\n\r\n            if (deltaDistance > entity.pendulumWalk.amplitudePatrol) {\r\n\r\n                this.countPatrol++;\r\n                entity.pendulumWalk.speed = -entity.pendulumWalk.speed;\r\n            }\r\n\r\n            if (!entity.killable.dead) {\r\n                entity.vel.y = 0;\r\n                entity.pos.y = entity.startPosition.y * positionBySinusoid;\r\n            }\r\n        }\r\n\r\n        entity.pos.x += entity.vel.x * deltaTime;\r\n        sprites.tileCollider.checkX(entity, sprites.camera);\r\n\r\n        entity.pos.y += entity.vel.y * deltaTime;\r\n        sprites.tileCollider.checkY(entity, sprites.camera);\r\n\r\n        entity.vel.y += sprites.gravity * deltaTime;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Traits/Physics.js","import drawField from './game-field';\r\n\r\nconst canvas = document.getElementById('canvas');\r\nconst context = canvas.getContext('2d');\r\n// canvas.setAttribute('width', `${window.devicePixelRatio}` * 960);\r\n// canvas.setAttribute('height', `${window.devicePixelRatio}` * 640);\r\n// canvas.style.width = `960px`;\r\n// canvas.style.height = `640px`;\r\n\r\ncanvas.setAttribute('width', 960);\r\ncanvas.setAttribute('height', 629);\r\n\r\ndrawField(context, canvas);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.js","import Sprite from './Sprite';\r\nimport Font from './Font';\r\nimport {loadImage,loadJSON} from './loaders';\r\nimport Timer from './timer';\r\n\r\nimport createCollisionLayer from './layers/collision';\r\nimport createCameraLayer from './layers/camera';\r\n\r\nimport createLevelCompositor from './createLevelCompositor';\r\nimport createPlayerEnvironment from './createPlayerEnvironment';\r\n\r\nexport default function drawField(context, canvas) {\r\n    Promise.all([\r\n        loadImage('./images/sprites.png'),\r\n        loadJSON('./sprites'),\r\n        loadJSON('./alphabet'),\r\n        loadImage('./images/alphabet.png')\r\n    ])\r\n    .then(async ([tileImage, tileData, fontData, fontImage]) => {\r\n\r\n\r\n        const sprites = new Sprite(tileImage, tileData);\r\n        for (let sprite in tileData) {\r\n            sprites.define(sprite);\r\n        }\r\n\r\n        // const font = new Font(fontsData, fontData);\r\n        // \r\n        // for (let letter in fontData) {\r\n        //     font.define(letter);\r\n        // }\r\n\r\n        const drawCollisions = createCollisionLayer(sprites);\r\n        const drawCameraView = createCameraLayer(sprites.camera);\r\n\r\n        const [drawDashboard, cosmo] = createPlayerEnvironment(sprites);\r\n        sprites.drawLevel = await createLevelCompositor(sprites);\r\n\r\n        // let loadSound = function(url, callback) {\r\n        //     console.log('loadSound', url)\r\n        //     let loaded = function () {\r\n        //         callback(sound);\r\n        //         sound.removeEventListener(\"canplaythrough\", loaded);\r\n        //     }\r\n        //     let sound = new Audio (url);\r\n        //     sound.addEventListener(\"canplaythrough\", loaded);\r\n        //     sound.load();\r\n        // }\r\n\r\n        // let self = this;\r\n\r\n        // loadSound('src/sound.mp3', function(mySound) {\r\n        //     self.mySound = mySound;\r\n\r\n        // });\r\n\r\n        // this.mySound.load();\r\n        // this.mySound.play();\r\n\r\n        // let sound = new Audio ('src/sound.mp3');\r\n\r\n        // sound.load();\r\n        // sound.play();\r\n\r\n\r\n\r\n        const timer = new Timer(1/60);\r\n        timer.update = function update(deltaTime) {\r\n\r\n                sprites.drawLevel(context);\r\n                sprites.update(deltaTime, context);\r\n\r\n                drawCollisions(context, sprites.camera);\r\n                drawCameraView(context, sprites.camera);\r\n\r\n                drawDashboard(context);\r\n        }\r\n        timer.start();\r\n    })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/game-field.js","import {Matrix} from './math';\r\nimport TileCollider from './TileCollider';\r\nimport EntityCollider from './EntityCollider';\r\nimport {createAnimation} from './animations';\r\nimport Spritesheet from './spritesheet';\r\nimport Sounds from './Sounds';\r\n\r\nexport default class Sprite extends Spritesheet {\r\n    constructor(image, data) {\r\n        super(image, data);\r\n\r\n        this.entities = new Set();\r\n        this.tilesMatrix = new Matrix();\r\n        this.sounds = new Sounds();\r\n\r\n        this.tileCollider = new TileCollider(this.tilesMatrix);\r\n        this.entityCollider = new EntityCollider(this.entities);\r\n\r\n        this.gravity = 2000;\r\n        this.level = 1;\r\n    }\r\n\r\n    draw(name, context, x, y, type, flip) {\r\n\r\n\r\n        const buffer = this.tiles.get(`${name}.png`)[flip ? 1 : 0];\r\n\r\n        if (type) {\r\n            if (type !== 'decor') {\r\n                this.tilesMatrix.set(x, y, {\r\n                    'name': name,\r\n                    'type': type\r\n                });\r\n            }\r\n        if (name.includes('coin') || name.includes('key')) {\r\n                x = x * this.TILE_SIZE;\r\n                y = y * this.TILE_SIZE;\r\n            } else {\r\n                x = x * buffer.width;\r\n                y = y * buffer.height;\r\n            }\r\n        }\r\n\r\n        context.drawImage(buffer, x - this.camera.pos.x, y - this.camera.pos.y);\r\n    }\r\n\r\n    drawEntity (name, context, x, y, flip = false) {\r\n            const buffer = this.tiles.get(`${name}.png`)[flip ? 0 : 1];\r\n            context.drawImage(buffer, x - this.camera.pos.x, y - this.camera.pos.y);\r\n    }\r\n\r\n    drawCosmo(cosmo, context) {\r\n        let buffer;\r\n\r\n        let frames = ['boy4.png', 'boy3.png', 'boy2.png', 'boy1.png'];\r\n\r\n        let runAnim = createAnimation(frames, 5);\r\n\r\n        function routeFrame (cosmo) {\r\n            if (cosmo.jump.ready < 0) {\r\n                return 'boy3.png';\r\n            }\r\n            if (cosmo.go.distance > 0) {\r\n               return runAnim(cosmo.go.distance);\r\n            }\r\n            return 'boy1.png';\r\n        }\r\n\r\n        buffer = this.tiles.get(routeFrame (cosmo))[cosmo.go.heading > 0 ? 0 : 1];\r\n\r\n        context.drawImage(buffer, cosmo.pos.x - this.camera.pos.x,\r\n                                  cosmo.pos.y - this.camera.pos.y);\r\n    }\r\n\r\n    update(deltaTime, context) {\r\n        this.entities.forEach(entity => {\r\n            entity.update(deltaTime, this);\r\n\r\n            if (entity.name === 'cosmo') {\r\n                this.drawCosmo(entity, context);\r\n                this.camera.pos.x = entity.pos.x > 3040 ? 2740 : Math.max(0, entity.pos.x - 300);\r\n\r\n            } else if (entity.name.includes('key') || entity.name.includes('coin') || entity.name.includes('lock')) {\r\n                this.draw(entity.name, context, entity.pos.x , entity.pos.y )\r\n\r\n            } else if (entity.name !== 'cosmo') {\r\n                this.drawEntity(entity.picture, context, entity.pos.x, entity.pos.y, entity.pendulumWalk.speed > 0 ? 0 : 1);\r\n            }\r\n        });\r\n\r\n        this.entities.forEach(entity => {\r\n            this.entityCollider.check(entity);\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Sprite.js","import TileResolver from './TileResolver';\r\nimport {Sides} from './Entity';\r\n\r\nexport default class TileCollider {\r\n    constructor(tileLayout) {\r\n        this.tiles = new TileResolver(tileLayout);\r\n    }\r\n\r\n    checkX(entity, camera) {\r\n        if (entity.pos.x < 0 ) {\r\n            entity.pos.x = 0;\r\n        }\r\n         if (entity.bounds.right > this.tiles.tileSize * this.tiles.matrix.grid.length) {\r\n            entity.pos.x = this.tiles.tileSize * this.tiles.matrix.grid.length - entity.size.x;\r\n        }\r\n\r\n        let x;\r\n        if (entity.vel.x > 0) {    \r\n            x = entity.bounds.right;\r\n        } else if (entity.vel.x < 0) {\r\n            x = entity.bounds.left;\r\n        } else {\r\n            return;\r\n        }\r\n\r\n        const matches = this.tiles.searchByRange(x, x,\r\n                                                 entity.bounds.top,\r\n                                                 entity.bounds.bottom);\r\n\r\n        matches.forEach( match => {\r\n            if (entity.vel.x > 0) {\r\n                if (entity.bounds.right > match.x1) {\r\n                    entity.bounds.right = match.x1;\r\n                    entity.vel.x = 0;\r\n\r\n                    entity.obstruct(Sides.RIGHT);\r\n                }\r\n            } else if (entity.vel.x < 0) {\r\n                if (entity.bounds.left < match.x2) {\r\n                    entity.bounds.left = match.x2;\r\n                    entity.vel.x = 0;\r\n\r\n                    entity.obstruct(Sides.LEFT);\r\n                }\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    checkY(entity) {\r\n        let y;\r\n        if (entity.vel.y > 0) {\r\n            y = entity.bounds.bottom;\r\n        } else if (entity.vel.y < 0) {\r\n            y = entity.bounds.top;\r\n        } else {\r\n            return;\r\n        }\r\n\r\n        const matches = this.tiles.searchByRange(entity.bounds.left,\r\n                                                 entity.bounds.right,\r\n                                                 y, y);\r\n\r\n        matches.forEach( match => {\r\n            if (entity.vel.y > 0) {\r\n                if (entity.bounds.bottom > match.y1) {\r\n\r\n                    entity.bounds.bottom = match.y1;\r\n                    entity.vel.y = 0;\r\n\r\n                    this.reachEdge(entity, y);\r\n\r\n                    entity.obstruct(Sides.BOTTOM);\r\n\r\n                }\r\n            } else if (entity.vel.y < 0) {\r\n                if (entity.bounds.top < match.y2) {\r\n                    entity.bounds.top = match.y2;\r\n                    entity.vel.y = 0;\r\n                    entity.obstruct(Sides.TOP);\r\n                }\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    reachEdge(entity, y) {\r\n        if (!entity.player) {\r\n\r\n            let stepToEdge = entity.size.x * Math.abs(entity.vel.x)/entity.vel.x;    \r\n            stepToEdge = stepToEdge ? stepToEdge : 0;  \r\n            let nextTile = this.tiles.searchByRange(entity.bounds.left + stepToEdge,\r\n                                                    entity.bounds.right + stepToEdge,\r\n                                                    y, y)[0];\r\n            if (!nextTile) {\r\n                entity.pendulumWalk.speed = -entity.pendulumWalk.speed;\r\n            }\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/TileCollider.js","// World position -> to tile indexes\r\nexport default class TileResolver {\r\n    constructor(matrix, tileSize = 37) {\r\n        this.matrix = matrix;\r\n        this.tileSize = tileSize;\r\n    }\r\n\r\n    toIndex(pos) {\r\n        return Math.floor(pos / this.tileSize);\r\n    }\r\n\r\n    toIndexRange(pos1, pos2) {\r\n        const pMax = Math.ceil(pos2 / this.tileSize) * this.tileSize;\r\n        const range = [];\r\n        let pos = pos1;\r\n        do {\r\n            range.push(this.toIndex(pos));\r\n            pos += this.tileSize;\r\n        } while (pos < pMax);\r\n        return range;\r\n    }\r\n\r\n    getByIndex(indexX, indexY) {\r\n        const tile = this.matrix.get(indexX, indexY);\r\n        if (tile) {\r\n            const x1 = indexX * this.tileSize;\r\n            const x2 = x1 + this.tileSize;\r\n\r\n            const y1 = indexY * this.tileSize;\r\n            const y2 = y1 + this.tileSize;\r\n            return {\r\n                tile,\r\n                x1,\r\n                x2,\r\n                y1,\r\n                y2\r\n            }\r\n        }\r\n    }\r\n\r\n    \r\n\r\n    searchByPosition(posX, posY) {\r\n        return this.getByIndex(\r\n            this.toIndex(posX),\r\n            this.toIndex(posY));\r\n    }\r\n\r\n    searchByRange(x1, x2, y1, y2) {\r\n        const matches = [];\r\n\r\n        this.toIndexRange(x1, x2).forEach(indexX => {\r\n            this.toIndexRange(y1, y2).forEach(indexY => {\r\n                const match = this.getByIndex(indexX, indexY);\r\n                if (match) {\r\n                    matches.push(match);\r\n                }\r\n            });\r\n        });\r\n\r\n        return matches;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/TileResolver.js","export default class BoundingBox {\r\n    constructor(pos, size, offset) {\r\n        this.pos = pos;\r\n        this.size = size;\r\n        this.offset = offset;\r\n    }\r\n\r\n    overlaps(box) {\r\n        return this.bottom > box.top\r\n            && this.top < box.bottom\r\n            && this.left < box.right\r\n            && this.right > box.left;\r\n    }\r\n\r\n    get bottom() {\r\n        return this.pos.y + this.size.y + this.offset.y;\r\n    }\r\n\r\n    set bottom(y) {\r\n        this.pos.y = y - (this.size.y + this.offset.y);\r\n    }\r\n\r\n    get top() {\r\n        return this.pos.y + this.offset.y;\r\n    }\r\n\r\n    set top(y) {\r\n        this.pos.y = y - this.offset.y;\r\n    }\r\n\r\n    get left() {\r\n        return this.pos.x + this.offset.x;\r\n    }\r\n\r\n    set left(x) {\r\n        this.pos.x = x - this.offset.x;\r\n    }\r\n\r\n    get right() {\r\n        return this.pos.x + this.size.x + this.offset.x;\r\n    }\r\n\r\n    set right(x) {\r\n        this.pos.x = x - (this.size.x + this.offset.x);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/BoundingBox.js","export default class EntityCollider {\r\n    constructor(entities) {\r\n        this.entities = entities;\r\n    }\r\n\r\n    check(entity) {\r\n        this.entities.forEach(candidate => {\r\n            if (entity === candidate) {\r\n                return;\r\n            }\r\n\r\n            if (entity.bounds.overlaps(candidate.bounds)){\r\n                entity.collides(candidate);\r\n                candidate.collides(entity);\r\n            }\r\n        })\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/EntityCollider.js","export\tfunction createAnimation(frames, frameLen) {\r\n\t\treturn function resolveFrame(distance) {\r\n\t\t\tlet frameIndex = Math.floor(distance / frameLen % frames.length);\r\n\t\t\tlet frameName = frames[frameIndex];\r\n\t\t\treturn frameName;\r\n\t\t}\r\n\t}\n\n\n// WEBPACK FOOTER //\n// ./src/animations.js","import {Vect} from './math';\r\n\r\nexport default class Camera {\r\n    constructor(){\r\n        this.pos = new Vect(0, 0);\r\n        this.size = new Vect(900, 629)\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Camera.js","\r\n\r\n\r\nexport default class Sounds{ \r\n\tconstructor() {\r\n\t\tthis.loadedSounds = new Map();\r\n\t\tthis.loas = [];\r\n\t}\r\n\r\n\tplaySound(name) {\r\n\r\n\t\tif (this.loadedSounds.has(name)) {\r\n\r\n\t\t\tthis.loadedSounds.get(name).play();\r\n\r\n\t\t} else {\r\n\r\n\t\t\tlet sound = new Audio (`sounds/${name}.mp3`);\r\n\t\t\tsound.load();\r\n\t\t\tsound.play();\r\n\r\n\t\t\tthis.loadedSounds.set(name, sound);\t\r\n\t\t}   \r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Sounds.js","import Spritesheet from './spritesheet'\r\n\r\nexport default class Font extends Spritesheet {\r\n    constructor(image,data) {\r\n        super(image, data);\r\n    }\r\n\r\n    print(text, context, x, y, sizeX, sizeY, flip) {\r\n        [...text].forEach( (letter, index) => {\r\n            const buffer = this.tiles.get(`${letter}.png`)[flip ? 1 : 0];\r\n\r\n            context.drawImage(buffer, x + index * sizeX, y, sizeX, sizeY);\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Font.js","export default class Timer {\r\n    constructor(deltaTime = 1/60) {\r\n        let lastTime = 0;\r\n        let accumulatedTime = 0;\r\n\r\n        this.updateProxy = (time) => {\r\n            accumulatedTime += (time - lastTime) / 1000;\r\n\r\n            while (accumulatedTime > deltaTime) {\r\n                this.update(deltaTime);\r\n                accumulatedTime -= deltaTime;\r\n            }\r\n\r\n            lastTime = time;\r\n            this.enqueue();\r\n        }\r\n    }\r\n\r\n    enqueue() {\r\n        requestAnimationFrame(this.updateProxy);\r\n    }\r\n\r\n    start() {\r\n        this.enqueue();\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/timer.js","function drawEntityBox(entities) {\r\n    return function drawBoundingBoxes(context, camera) {\r\n        context.strokeStyle = 'red';\r\n        entities.forEach(entity => {\r\n            context.beginPath();\r\n            context.rect(entity.bounds.left - camera.pos.x,\r\n                         entity.bounds.top - camera.pos.y,\r\n                         entity.size.x, entity.size.y);\r\n            context.stroke();\r\n        });\r\n    }\r\n}\r\n\r\nfunction createTileCandidateLayer(tileCollider) {\r\n    const resolvedTiles = [];\r\n\r\n    const tileResolver = tileCollider.tiles;\r\n    const tileSize = tileResolver.tileSize\r\n\r\n    const getByIndexOriginal = tileResolver.getByIndex;\r\n\r\n    tileResolver.getByIndex = function getByIndexFake(x, y) {\r\n        resolvedTiles.push({x,y});\r\n        return getByIndexOriginal.call(tileResolver, x, y);\r\n    }\r\n\r\n    return function drawTileCandidates(context, camera) {\r\n        context.strokeStyle = 'blue';\r\n        resolvedTiles.forEach(({x,y}) => {\r\n            context.beginPath();\r\n            context.rect(x * tileSize - camera.pos.x,\r\n                         y * tileSize - camera.pos.y,\r\n                         tileSize, tileSize);\r\n            context.stroke();\r\n        });\r\n\r\n        resolvedTiles.length = 0;\r\n    }\r\n}\r\n\r\nexport default function createCollisionLayer(sprites) {\r\n\r\n    const drawTileCandidates = createTileCandidateLayer(sprites.tileCollider);\r\n    const drawBoundingBoxes = drawEntityBox(sprites.entities);\r\n\r\n    return function drawCollisions(context, camera) {\r\n        drawTileCandidates(context, camera);\r\n        drawBoundingBoxes(context, camera);\r\n    };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/layers/collision.js","export default function createCameraLayer(cameraToDraw) {\r\n    return function drawCameraRect(context, fromCamera) {\r\n        context.strokeStyle = 'purple';\r\n        context.beginPath();\r\n        context.rect(cameraToDraw.pos.x - fromCamera.pos.x,\r\n                     cameraToDraw.pos.y - fromCamera.pos.y,\r\n                     cameraToDraw.size.x, cameraToDraw.size.y);\r\n        context.stroke();\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/layers/camera.js","import drawBackground from './layers/background';\r\nimport {loadJSON} from './loaders';\r\nimport {createEntities} from './entities';\r\n\r\nexport default function(sprites) {\r\n      // return loadJSON(`./levels/1-${sprites.level}`).then((layout) => {\r\n         return loadJSON(`./levels/1-2`).then((layout) => {\r\n        sprites.entities.forEach(entity => {\r\n            if (!entity.player) {\r\n                sprites.entities.delete(entity);\r\n            } else {\r\n                entity.pos.set(100, 100);\r\n            }\r\n        });\r\n        sprites.tilesMatrix.grid = [];\r\n\r\n        createEntities(sprites, layout);\r\n\r\n        const drawBackgroundLayer = drawBackground(sprites, layout);\r\n        return drawBackgroundLayer;\r\n    });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/createLevelCompositor.js","export default function drawBackground(sprites, layout) {\r\n    const buffer = document.createElement('canvas');\r\n    const bufferContext = buffer.getContext('2d');\r\n\r\n    const width = 37 * 100;\r\n    const height = 37 * 17;\r\n    buffer.setAttribute('width', width);\r\n    buffer.setAttribute('height', height);\r\n\r\n    layout.backgrounds.forEach( tile => {\r\n        const name = tile.name;\r\n        const type = tile.type;\r\n\r\n        tile.pos.forEach(range => {\r\n            switch(range.length) {\r\n                case 4: {\r\n                    sprites.drawTiles(name, bufferContext, type, ...range);\r\n                    break;\r\n                }\r\n                case 3: {\r\n                    let [x, xLen, y] = range;\r\n                    xLen += x;\r\n                    sprites.drawTiles(name, bufferContext, type, x, xLen, y, (y + 1));\r\n                    break;\r\n                }\r\n                case 2: {\r\n                    const [x, y] = range;\r\n                    sprites.drawTiles(name, bufferContext, type, x, (x + 1), y, (y + 1));\r\n                    break;\r\n                }\r\n            }\r\n        });\r\n\r\n    });\r\n\r\n    return function drawBackgroundLayer(context) {\r\n        context.drawImage(buffer, 0 - sprites.camera.pos.x,\r\n                                  0 - sprites.camera.pos.y);\r\n    };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/layers/background.js","import {createEnemiesFactory} from './Entities/Enemies'\r\nimport {createArtefactsFactory} from './Entities/Artefacts'\r\n\r\nexport function createEntities(sprites, layout) {\r\n\r\n    const createEnemy = createEnemiesFactory(sprites);\r\n    const createArtefact = createArtefactsFactory(sprites);\r\n\r\n    layout.entities.forEach(species => {\r\n        const name = species.name;\r\n        const [sizeX, sizeY] = species.data.size;\r\n        const pictures = species.data.pictures;\r\n        const deadPic = species.data.deadPic;\r\n        const [velX, velY] = species.data.velocity;\r\n\r\n        species.positions.forEach(entity => {\r\n            const [posX, posY, reverse] = entity.pos;\r\n            const [offsetX, offsetY] = entity.offset;\r\n\r\n            createEnemy(name, posX, posY,\r\n                              offsetX, offsetY,\r\n                              sizeX, sizeY,\r\n                              velX, velY,\r\n                              reverse, pictures, deadPic);\r\n        });\r\n    });\r\n\r\n    layout.artefacts.forEach(artef => {\r\n        const name = artef.name;\r\n\r\n        artef.positions.forEach(arrPositions => {\r\n            const [posX, posY] = arrPositions;\r\n\r\n            createArtefact(name, posX, posY);\r\n        });\r\n    });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/entities.js","import Entity, {Sides, Trait} from '../Entity';\r\nimport Jump from '../Traits/Jump';\r\nimport Go from '../Traits/Go';\r\nimport Killable from '../Traits/Killable';\r\nimport PendulumWalk from '../Traits/PendulumWalk';\r\nimport Physics from '../Traits/Physics';\r\n\r\nclass Behavior extends Trait{\r\n    constructor() {\r\n        super('behavior');\r\n    }\r\n\r\n    reachEdge(enemy) {\r\n\r\n    }\r\n\r\n    collides(us, them) {\r\n        if (us.killable.dead) {\r\n            return;\r\n        }\r\n\r\n        if (them.stomper) {\r\n            if (them.vel.y > us.vel.y) {\r\n                us.pendulumWalk.speed = 0;\r\n                us.killable.kill();\r\n                them.stomper.bounce();\r\n                us.sounds.playSound('killEnemy');\r\n\r\n            } else {\r\n                them.killable.kill();\r\n                them.sounds.playSound('killHero'); \r\n            }\r\n        }\r\n    }\r\n\r\n    update(entity, deltaTime, sprites) {\r\n        const sequence = Math.floor(entity.lifetime % entity.pictures.length);\r\n        entity.picture = entity.pictures[sequence];\r\n    }\r\n}\r\n\r\nexport function createEnemiesFactory(sprites) {\r\n\r\n    return function createEnemy(name, posX, posY,\r\n                                      offsetX, offsetY,\r\n                                      sizeX, sizeY,\r\n                                      velX, velY,\r\n                                      reverse, pictures, deadPic) {\r\n\r\n        const enemy = new Entity(name);\r\n        enemy.size.set(sizeX, sizeY);\r\n        enemy.pos.set(posX * 37, posY * 37);\r\n        enemy.startPosition.set(posX * 37, posY * 37);\r\n        enemy.vel.set(velX, velY);\r\n        enemy.offset.set(offsetX, offsetY);\r\n        enemy.pictures = reverse ? Array.from(pictures).reverse() : pictures;\r\n        enemy.picture = null;\r\n        enemy.deadPic = deadPic;\r\n\r\n        enemy.addTrait(new Physics());\r\n        enemy.addTrait(new PendulumWalk(reverse));\r\n        enemy.addTrait(new Behavior());\r\n        enemy.addTrait(new Killable());\r\n\r\n        sprites.entities.add(enemy);\r\n    };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Entities/Enemies.js","import {Sides, Trait} from '../Entity.js';\r\n\r\nexport default class PendulumWalk extends Trait {\r\n    constructor(reverse) {\r\n        super('pendulumWalk');\r\n        this.speed = reverse ? 30 : -30;\r\n        let randomForPatrol = Math.random() < 0.5 ? 0.5 : Math.random(); \r\n        this.amplitudePatrol = randomForPatrol * 1000;\r\n    }\r\n\r\n    obstruct(entity, side) {\r\n        if (side === Sides.LEFT || side === Sides.RIGHT) {\r\n            this.speed = -this.speed;\r\n        }\r\n    }\r\n\r\n    update(entity, deltaTime) {\r\n        entity.vel.x = this.speed;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Traits/PendulumWalk.js","import Entity, {Sides, Trait} from '../Entity';\r\nimport Killable from '../Traits/Killable';\r\n\r\nclass Behavior extends Trait{\r\n    constructor() {\r\n        super('behavior');\r\n    }\r\n\r\n    collides(us, them) {\r\n        if (us.killable.dead) {\r\n            return;\r\n        }\r\n\r\n        if (them.stomper) {\r\n            us.killable.removeAfter = 0;\r\n            \r\n            if (us.name.includes('coin')) {\r\n                us.killable.kill();\r\n                them.stateCosmo.coins++;\r\n                them.sounds.playSound('getCoin');\r\n            } else if (us.name.includes('key')) {\r\n                us.killable.kill();\r\n                them.stateCosmo.keys++;\r\n                them.sounds.playSound('getCoin');\r\n            } else if (us.name.includes('lock')) {\r\n                if (them.stateCosmo.keys) {\r\n                    us.killable.kill();\r\n                    them.sounds.playSound('openLocks');\r\n                    console.log('congratulation - next level');\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport function createArtefactsFactory(sprites) {\r\n\r\n    return function createArtefact(name, posX, posY) {\r\n\r\n        const artefact = new Entity(name);\r\n        artefact.size.set(23, 23);               //!!! resolve\r\n        artefact.pos.set(posX * 37, posY * 37);  //!!! resolve\r\n        artefact.offset.set(7, 7);\r\n        artefact.picture = name;\r\n\r\n        artefact.addTrait(new Killable());\r\n        artefact.addTrait(new Behavior());\r\n        sprites.entities.add(artefact);\r\n    };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Entities/Artefacts.js","import {createCosmoFactory} from './Entities/Cosmo';\r\nimport PlayerController from './Traits/PlayerController';\r\nimport setupKeyboard from './input';\r\nimport {setupMouseControl} from './debug';\r\nimport createDashboardLayer from './layers/dashboard';\r\n\r\nexport default function(sprites) {\r\n    const createCosmo = createCosmoFactory(sprites);\r\n    const cosmo = createCosmo();\r\n\r\n    createPlayerEnv(cosmo);\r\n    const drawDashboard = createDashboardLayer(cosmo);\r\n\r\n    const input = setupKeyboard(cosmo);\r\n    setupMouseControl(canvas, cosmo, sprites.camera);\r\n    input.listenTo(window);\r\n\r\n    return [drawDashboard, cosmo];\r\n}\r\n\r\nfunction createPlayerEnv (playerEntity) {\r\n    const playerControl = new PlayerController(playerEntity);\r\n    playerControl.checkPoint.set(42, 42);\r\n    playerEntity.addTrait(playerControl);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/createPlayerEnvironment.js","import Entity from '../Entity';\r\nimport Jump from '../Traits/Jump';\r\nimport Go from '../Traits/Go';\r\nimport Stomper from '../Traits/Stomper';\r\nimport Physics from '../Traits/Physics';\r\n\r\nimport Killable from '../Traits/Killable'\r\nimport ReachEdge from '../Traits/ReachEdge';\r\n\r\nimport Falling from '../Traits/Falling';\r\nimport StateCosmo from '../Traits/StateCosmo';\r\n\r\nconst SLOW_DRAG = 1/2000;\r\nconst FAST_DRAG = 1/5000;\r\n\r\nexport function createCosmoFactory(sprites) {\r\n\r\n    function setTurboState(turtleOn) {\r\n      this.go.dragFactor = turtleOn ? SLOW_DRAG : FAST_DRAG;\r\n    }\r\n\r\n    function setTurtleState(turboOn) {\r\n      this.go.dragFactor = turboOn ? FAST_DRAG : SLOW_DRAG;\r\n    }\r\n\r\n    return function createCosmo() {\r\n        const cosmo = new Entity('cosmo');\r\n\r\n        cosmo.player = true;\r\n\r\n        cosmo.size.set(20, 50);\r\n\r\n        cosmo.pos.set(185, 420);\r\n        cosmo.vel.set(0, -600);\r\n        cosmo.offset.set(9, 0);\r\n\r\n        sprites.entities.add(cosmo);\r\n\r\n        cosmo.addTrait(new Physics());\r\n        cosmo.addTrait(new Jump());\r\n        cosmo.addTrait(new Go());\r\n        cosmo.addTrait(new Stomper());\r\n        cosmo.addTrait(new Killable());\r\n\r\n        cosmo.addTrait(new Falling());\r\n        cosmo.addTrait(new StateCosmo());\r\n\r\n\r\n        cosmo.turboAndSlow = setTurboState;\r\n        cosmo.slowAndTurbo = setTurtleState;\r\n\r\n        return cosmo;\r\n    };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Entities/Cosmo.js","import {Sides, Trait} from '../Entity.js';\r\n\r\nexport default class Stomper extends Trait {\r\n    constructor() {\r\n        super('stomper');\r\n        this.queueBounce = false;\r\n        this.bounceSpeed = 400;\r\n    }\r\n\r\n    bounce() {\r\n        this.queueBounce = true;\r\n    }\r\n\r\n    update(entity) {\r\n        if (this.queueBounce) {\r\n            entity.vel.y = -this.bounceSpeed;\r\n            this.queueBounce = false;\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Traits/Stomper.js","import {Trait} from '../Entity';\r\n\r\nexport default class ReachEdge extends Trait {\r\n    constructor() {\r\n        super('reachEdge');\r\n    }\r\n\r\n    update(entity, deltaTime, sprites) {\r\n        if (entity.pos.x < 0) {\r\n                // entity.pos.x = 1;\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Traits/ReachEdge.js","import {Trait} from '../Entity';\r\n\r\nexport default class Falling extends Trait {\r\n    constructor() {\r\n        super('falling');\r\n    }\r\n\r\n    update(entity, deltaTime, sprites) {\r\n        let currentX = entity.pos.x;\r\n        if (entity.pos.y > 800 && entity.stateCosmo.alive) {\r\n            entity.playerController.death(entity, sprites);\r\n\r\n            entity.sounds.playSound('fallInAbyss');\r\n\r\n            entity.playerController.updateTimer();\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Traits/Falling.js","import {Trait} from '../Entity';\r\n\r\nexport default class StateCosmo extends Trait {\r\n    constructor() {\r\n        super('stateCosmo');\r\n        this.lives = 3;\r\n        this.coins = 0;\r\n        this.keys = 0;\r\n        this.locks = 0;\r\n        this.opebedLocks = 0;\r\n        this.alive = true;\r\n    }\r\n\r\n    update(entity, deltaTime, sprites) {\r\n\r\n        if (this.coins > 50) {\r\n            this.coins = 0;\r\n            this.lives++;\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Traits/StateCosmo.js","import {Trait} from '../Entity';\r\nimport {Vect} from '../math';\r\n\r\nconst TIME_LIMIT = 60;\r\n\r\nexport default class PlayerController extends Trait {\r\n    constructor(entity) {\r\n        super('playerController');\r\n\r\n        this.player = entity;\r\n        this.checkPoint = new Vect(0, 0);\r\n\r\n        this.time = TIME_LIMIT;\r\n        this.stopTime = false;\r\n    }\r\n\r\n    death(entity, sprites) {\r\n\r\n        this.player.stateCosmo.lives--;\r\n        \r\n        if (this.player.stateCosmo.lives > 0) {\r\n            this.player.killable.revive();\r\n            this.player.pos.set(this.checkPoint.x, this.checkPoint.y);\r\n            sprites.entities.add(this.player);\r\n            this.updateTimer();\r\n        } else {\r\n\r\n            entity.stateCosmo.alive = false;\r\n            entity.sounds.playSound('gameOver');\r\n        }\r\n    }\r\n\r\n    updateTimer() {\r\n        this.time = TIME_LIMIT;\r\n    }\r\n\r\n    update(entity, deltaTime, sprites) {\r\n        if (!sprites.entities.has(entity) && entity.stateCosmo.alive) {\r\n\r\n            this.death(entity, sprites);\r\n\r\n        } else if (!this.stopTime){\r\n            \r\n            this.time -= deltaTime;\r\n        }\r\n\r\n        if (this.time <= 0) {\r\n\r\n            this.death(entity, sprites);\r\n            this.updateTimer();\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Traits/PlayerController.js","import KeyboardListener from './keyboardState';\r\n\r\nexport default function setupKeyboard(cosmo) {\r\n    const input = new KeyboardListener();\r\n\r\n    input.addMapping('Space', keyState => {\r\n        if (keyState) {\r\n            cosmo.jump.start();\r\n        } else {\r\n            cosmo.jump.cancel();\r\n        }\r\n    });\r\n\r\n    input.addMapping('KeyO', keyState => {\r\n        cosmo.slowAndTurbo(keyState);\r\n    });\r\n    input.addMapping('KeyP', keyState => {\r\n        cosmo.turboAndSlow(keyState);\r\n    });\r\n\r\n    input.addMapping('ArrowRight', keyState => {\r\n        cosmo.go.dir += keyState ? 1 : -1;\r\n    });\r\n\r\n    input.addMapping('ArrowLeft', keyState => {\r\n        cosmo.go.dir += keyState ? -1 : 1;\r\n    });\r\n\r\n    return input;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/input.js","const PRESSED = 1;\r\nconst RELEASED = 0;\r\n\r\nexport default class KeyboardState {\r\n    constructor() {\r\n        this.keyStates = new Map();\r\n        this.keyMap = new Map();\r\n    }\r\n    addMapping(code, callback) {\r\n        this.keyMap.set(code, callback);\r\n    }\r\n    handleEvent(event){\r\n        const {code} = event;\r\n\r\n        if(!this.keyMap.has(code)) {\r\n            return;\r\n        }\r\n\r\n        event.preventDefault();\r\n\r\n        const keyState = event.type === 'keydown' ? PRESSED : RELEASED;\r\n\r\n        if (this.keyStates.get(code) === keyState) {\r\n            return;\r\n        }\r\n\r\n        this.keyStates.set(code, keyState);\r\n\r\n        this.keyMap.get(code)(keyState);\r\n    }\r\n\r\n    listenTo(window) {\r\n        ['keydown', 'keyup'].forEach(eventName => {\r\n            window.addEventListener(eventName, event => {\r\n                this.handleEvent(event)\r\n            });\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboardState.js","export function setupMouseControl(canvas, entity, camera) {\r\n    let lastEvent;\r\n\r\n    ['mousedown', 'mousemove'].forEach(eventName => {\r\n        canvas.addEventListener(eventName, event => {\r\n            if (event.buttons === 1) {\r\n                entity.vel.set(0, 0);\r\n                entity.pos.set(event.offsetX + camera.pos.x,\r\n                               event.offsetY + camera.pos.y);\r\n            }\r\n        })\r\n    });\r\n\r\n    window.addEventListener('keydown', event => {\r\n        // console.log(event.code);\r\n        if (event.code === 'KeyD') {\r\n            camera.pos.x += 75;\r\n        }\r\n        if (event.code === 'KeyA') {\r\n            camera.pos.x -= 75;\r\n        }\r\n    });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/debug.js","export default function createDashboardLayer(entity) {\r\n    return function drawDashboard(context) {\r\n\r\n        const time = Math.round(entity.playerController.time);\r\n\r\n    \tcontext.font = \"22px Verdana\";\r\n\r\n        context.fillStyle = \"darkViolet\";\r\n        context.fillText(`LEVEL : 1`, 20, 22);\r\n        context.fillText(`COINS : ${entity.stateCosmo.coins}`, 160, 22);\r\n        context.fillText(`LIVES : ${entity.stateCosmo.lives}`, 300, 22);\r\n\r\n        context.fillText(`KEYS : ${entity.stateCosmo.keys}`, 460, 22);\r\n\r\n        context.fillText(`TIME : ${time}`, 840, 22);\r\n\r\n\r\n        // if (!entity.stateCosmo.alive)  {\r\n\r\n        if (!entity.stateCosmo.alive)  {\r\n\r\n        \tcontext.font = \"50px Verdana\";\r\n    \t\tcontext.strokeStyle = \"red\";\r\n    \t\tcontext.strokeText(`GAME OVER`, 350, 350);\r\n\r\n            entity.playerController.time = 60;\r\n            entity.playerController.stopTime = true;\r\n            entity.killable.kill();\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/layers/dashboard.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./style/css/style.css\n// module id = 40\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./style/scss/style.scss\n// module id = 41\n// module chunks = 0"],"sourceRoot":""}