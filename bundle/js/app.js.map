{"version":3,"sources":["webpack:///webpack/bootstrap 54eeb5b5a179090f8a82","webpack:///./src/js/loaders.js","webpack:///./src/js/SourceSprites.js","webpack:///./src/js/mathematics.js","webpack:///./src/js/Entity.js","webpack:///./src/js/sprites.js","webpack:///./src/js/app.js","webpack:///./src/js/Compositor.js","webpack:///./src/js/TimeHandler.js","webpack:///./src/js/layers.js","webpack:///./src/js/entities.js","webpack:///./style/css/style.css","webpack:///./style/scss/style.scss"],"names":["loadImage","url","Promise","resolve","img","Image","src","addEventListener","loadDataFromJSON","nameFile","fetch","then","response","json","SourceSprites","constructor","image","widthOfTile","heightOfTile","tilesMap","Map","startOfTileX","startOfTileY","defineTilePerJSON","fileJSON","nameTile","getCoordinatesOfTileFromJSON","bufferForTile","document","createElement","width","height","bufferContext","getContext","drawImage","set","drawTile","context","x","y","buffer","get","frame","w","h","Vector","Entity","position","velocity","loadBacgroundSprites","sprites","spritesDataFromJSON","loadHeroSprites","canvas","getElementById","setAttribute","all","createHero","hero","bacgroundSprites","levelDataFromJSON","compos","backgroundLayer","createBackgroundLayer","backgrounds","layers","push","gravity","heroLayer","createSpriteLayer","update","drawLayerWithContext","requestAnimationFrame","Compositor","forEach","layer","TimeHandler","deltaTime","overalTime","lastTime","updateHelper","time","queueOfProces","start","bgcBuffer","background","drawBackground","drawBgcLayer","backgrounOf","ranges","x1","x2","y1","y2","tile","entity","drawSpriteLayer","draw","sprite","drawHero","updateHero"],"mappings":"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","file":"bundle/js/app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 54eeb5b5a179090f8a82","\texport function loadImage(url) {\r\n\t\t\treturn new Promise(resolve => {\r\n\t\t\t\tconst img = new Image();\r\n\t\t\t\timg.src = url;\r\n\t\t\t\timg.addEventListener('load', () => {\r\n\t\t\t\t\tresolve(img);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\r\n\texport function loadDataFromJSON(nameFile) {\r\n\t\treturn fetch(`/src/database/${nameFile}.json`)\r\n\t\t.then(response => response.json());\r\n\t}\n\n\n// WEBPACK FOOTER //\n// ./src/js/loaders.js","import {loadTilesFromJSON} from './loaders.js';\r\n\r\n\r\nexport default class SourceSprites {\r\n\tconstructor(image) {\r\n\t\tthis.image = image;\r\n\t\tthis.widthOfTile ;\r\n\t\tthis.heightOfTile ; \r\n\t\tthis.tilesMap = new Map();\r\n\t\tthis.startOfTileX ;\r\n\t\tthis.startOfTileY ;\r\n\t}\r\n\r\n\tdefineTilePerJSON(fileJSON, nameTile) {\r\n\t\t\tthis.getCoordinatesOfTileFromJSON(fileJSON, nameTile);\r\n\t\t\tconst bufferForTile = document.createElement('canvas');\r\n\t\t\tbufferForTile.width = this.widthOfTile;\r\n\t\t\tbufferForTile.height = this.heightOfTile;\r\n\t\t\tconst bufferContext = bufferForTile.getContext('2d');\r\n\t\t\tbufferContext.drawImage(\r\n\t\t\t\tthis.image,\r\n\t\t\t\tthis.startOfTileX,\r\n\t\t\t\tthis.startOfTileY,\r\n\t\t\t\tthis.widthOfTile,\r\n\t\t\t\tthis.heightOfTile,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tthis.widthOfTile,\r\n\t\t\t\tthis.heightOfTile);\r\n\t\t\tthis.tilesMap.set(nameTile, bufferForTile);\r\n\t}\r\n\r\n\tdrawTile(nameTile, context, x, y) {\r\n\t\t\tconst buffer = this.tilesMap.get(nameTile);\r\n\t\t\tcontext.drawImage(buffer, x, y);\t\r\n\t}\r\n\r\n\tgetCoordinatesOfTileFromJSON(fileJSON, nameTile) {\r\n\t\tthis.startOfTileX = fileJSON[nameTile].frame.x;\r\n\t\tthis.startOfTileY = fileJSON[nameTile].frame.y;\r\n\t\tthis.widthOfTile = fileJSON[nameTile].frame.w;\r\n\t\tthis.heightOfTile = fileJSON[nameTile].frame.h;\r\n\t}\r\n}\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/SourceSprites.js","export \tclass Vector {\r\n\t\tconstructor(x, y) {\r\n\t\t\tthis.set(x, y);\r\n\t\t}\r\n\r\n\t\tset(x, y) {\r\n\t\t\tthis.x = x;\r\n\t\t\tthis.y = y;\r\n\t\t}\r\n\t}\n\n\n// WEBPACK FOOTER //\n// ./src/js/mathematics.js","import {Vector} from './mathematics.js';\r\n\r\nexport default class Entity {\r\n\t\tconstructor() {\r\n\t\t\tthis.position = new Vector(0,0);\r\n\t\t\tthis.velocity = new Vector(0,0);\r\n\t\t}\r\n\t}\n\n\n// WEBPACK FOOTER //\n// ./src/js/Entity.js","import SourceSprites from './SourceSprites.js';\r\nimport {loadImage, loadDataFromJSON} from './loaders.js';\r\n\r\nexport function loadBacgroundSprites() {\r\n\treturn loadImage('../images/sprites.png')\r\n\t.then(image => {\r\n\t\tconst sprites = new SourceSprites(image);\r\n\t\treturn sprites ;\r\n\t})\r\n\t.then(sprites => {\r\n\t\treturn loadDataFromJSON('sprites')\r\n\t\t.then( spritesDataFromJSON => {\r\n\t\t\tsprites.defineTilePerJSON(spritesDataFromJSON, 'box-g.png');\r\n\t\t\tsprites.defineTilePerJSON(spritesDataFromJSON, 'box-b1.png');\r\n\t\t\treturn sprites ;\r\n\t\t});\r\n\t});\r\n}\r\n\r\nexport function loadHeroSprites() {\r\n\treturn loadImage('../images/sprites.png')\r\n\t.then(image => {\r\n\t\tconst sprites = new SourceSprites(image);\r\n\t\treturn sprites ;\r\n\t})\r\n\t.then(sprites => {\r\n\t\treturn loadDataFromJSON('sprites')\r\n\t\t.then( spritesDataFromJSON => {\r\n\t\t\tsprites.defineTilePerJSON(spritesDataFromJSON, 'boy3.png');\r\n\t\t\treturn sprites ;\r\n\t\t});\r\n\t});\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/sprites.js","\r\nimport SourceSprites from './SourceSprites.js';\r\nimport Compositor from './Compositor.js';\r\nimport {Vector} from './mathematics.js';\r\nimport Entity from './Entity.js';\r\nimport TimeHandler from './TimeHandler.js';\r\nimport {loadDataFromJSON} from './loaders.js';\r\nimport {loadBacgroundSprites, loadHeroSprites} from './sprites.js';\r\nimport {createBackgroundLayer, createSpriteLayer} from './layers.js';\r\nimport {createHero} from './entities.js';\r\n\r\n\r\n\tconst canvas = document.getElementById('canvas');\r\n\tcanvas.setAttribute('width', 960);\r\n\tcanvas.setAttribute('height', 640);\r\n\tconst context = canvas.getContext('2d');\r\n\r\n\tPromise.all([\r\n\t\tcreateHero(),\r\n\t\tloadBacgroundSprites(),\r\n\t\tloadDataFromJSON('level-1')\r\n\t\t])\r\n\t\t.then(([hero, bacgroundSprites, levelDataFromJSON]) => {\r\n\r\n\t\t\tlet compos = new Compositor();\r\n\r\n\t\t\tlet backgroundLayer = createBackgroundLayer(levelDataFromJSON.backgrounds, bacgroundSprites);\r\n\t\t\tcompos.layers.push(backgroundLayer);\r\n\r\n\t\t\tconst gravity = 1;  // for example\r\n\r\n\t\t\tlet heroLayer = createSpriteLayer(hero);\r\n\t\t\tcompos.layers.push(heroLayer);\r\n\r\n\t\t\t// let timer = new TimeHandler(1/60);\r\n\t\t\t// timer.update = function update(deltaTime) {\r\n\t\t\t// \tcompos.drawLayerWithContext(context);\r\n\t\t\t// \thero.update(deltaTime);\r\n\t\t\t// \thero.velocity.y += gravity;\r\n\t\t\t// };\r\n\r\n\t\t\t// timer.start();\r\n\r\n\t\t\tfunction update() {\r\n\t\t\t\tcompos.drawLayerWithContext(context);\r\n\t\t\t\thero.update();\r\n\t\t\t\thero.velocity.y += gravity;\r\n\t\t\t\trequestAnimationFrame(update);\r\n\t\t\t}\r\n\r\n\t\t\tupdate();\r\n\r\n\t\t\t\r\n\t\t})\r\n\r\n\r\n\r\n\r\n\t\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/app.js","export default \tclass Compositor {\r\n\t\tconstructor(){\r\n\t\t\tthis.layers = [];\r\n\t\t}\r\n\r\n\t\tdrawLayerWithContext(context) {\r\n\t\t\tthis.layers.forEach(layer => {\r\n\t\t\t\tlayer(context);\r\n\t\t\t})\r\n\t\t}\r\n\t}\n\n\n// WEBPACK FOOTER //\n// ./src/js/Compositor.js","export default class TimeHandler {\r\n\tconstructor(deltaTime = 1/60) {\r\n\t\tlet overalTime = 0;\r\n\t\tlet lastTime = 0;\r\n\r\n\t\tthis.updateHelper = (time) => {\r\n\t\t\toveralTime += (time-lastTime) / 1000;\r\n\r\n\t\t\twhile (overalTime > deltaTime) {\r\n\t\t\t\tthis.update(deltaTime);\r\n\t\t\t\toveralTime -= deltaTime;\r\n\t\t\t}\r\n\r\n\t\t\tlastTime = time;\r\n\r\n\t\t\tthis.queueOfProces();\r\n\t\t}\r\n\t}\r\n\r\n\tqueueOfProces(){\r\n\t\trequestAnimationFrame(this.updateHelper);\r\n\t}\r\n\r\n\tstart() {\r\n\t\tthis.queueOfProces();\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/TimeHandler.js","\t\r\n\r\n\r\n\texport function createBackgroundLayer(backgrounds, sprites) {\r\n\t\tlet bgcBuffer = document.createElement('canvas');\r\n\t\tbgcBuffer.width = 960;\r\n\t\tbgcBuffer.height = 640;\r\n\r\n\t\tbackgrounds.forEach(background => {\r\n\t\t\tdrawBackground(background, bgcBuffer.getContext('2d'), sprites);\r\n\t\t});\r\n\r\n\t\treturn function drawBgcLayer(context) {\r\n\t\t\tcontext.drawImage(bgcBuffer, 0, 0);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction drawBackground(backgrounOf, context, sprites) {\r\n\t\tbackgrounOf.ranges.forEach(([x1, x2, y1, y2]) => {\r\n\t\t\tfor(let x = x1; x < x2; x = x+37) {\r\n\t\t\t\tfor(let y = y1; y<y2; y= y+37) {\r\n\t\t\t\tsprites.drawTile(backgrounOf.tile, context, x, y);\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\t\r\n\r\n\texport \tfunction createSpriteLayer(entity) {\r\n\t\treturn function drawSpriteLayer(context) {\r\n\t\t\tentity.draw(context);\r\n\t\t}\r\n\t}\n\n\n// WEBPACK FOOTER //\n// ./src/js/layers.js","import Entity from './Entity.js';\r\nimport {loadHeroSprites} from './sprites.js';\r\n\r\n\texport function createHero(){\r\n\t\treturn loadHeroSprites()\r\n\t\t.then( sprite => {\r\n\t\t\tlet hero = new Entity();\r\n\t\t\thero.position.set(200,520);\r\n\t\t\thero.velocity.set(8, -15);\r\n\r\n\t\t\thero.draw = function drawHero(context) {\r\n\t\t\t\tsprite.drawTile('boy3.png', context, this.position.x, this.position.y);\r\n\t\t\t}\r\n\r\n\t\t\thero.update = function updateHero() {\r\n\t\t\t\tthis.position.x += this.velocity.x;\r\n\t\t\t\tthis.position.y += this.velocity.y;\t\t\t\r\n\t\t\t}\r\n\t\t\treturn hero;\r\n\t\t});\r\n\t\t\t\r\n\t}\r\n\t\t\n\n\n// WEBPACK FOOTER //\n// ./src/js/entities.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./style/css/style.css\n// module id = 11\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./style/scss/style.scss\n// module id = 12\n// module chunks = 0"],"sourceRoot":""}